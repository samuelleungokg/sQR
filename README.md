# sQR - Chrome Extension

A Chrome extension that automatically scans QR codes on web pages and allows you to open the decoded URLs with one click.

## Features

- 🔍 **Comprehensive QR Detection**: Scans images, canvas elements, SVG graphics, and background images
- 📸 **Screen Capture Scanning**: Universal detection of ANY visible QR codes, including complex containers
- 🎯 **Selective Area Scanning**: Draw selection boxes around specific QR codes for targeted detection
- 🎯 **Interactive Popups**: Click QR codes to show content previews with smart positioning
- 🚀 **One-Click Actions**: Clickable URLs in popups, search for non-URLs
- 📱 **Smart Recognition**: Detects URLs, emails, phone numbers, WiFi, and text
- ⚡ **Lazy Loading Support**: Automatically detects QR codes as they load into view
- 🔄 **Dynamic Content**: Monitors for new QR codes added after page load
- 🏗️ **Complex Layout Support**: Detects QR codes in Shadow DOM, iframes, and styled containers
- 🔒 **Privacy-First**: All processing happens locally, no data sent to servers
- 🐛 **Debug Friendly**: Detailed console logging for troubleshooting

## How to Load the Extension in Chrome

### Step 1: Enable Developer Mode
1. Open Chrome and go to `chrome://extensions/`
2. Toggle on **"Developer mode"** in the top-right corner

### Step 2: Load the Extension
1. Click **"Load unpacked"** button
2. Navigate to and select the `sQR` folder
3. The extension should now appear in your extensions list

### Step 3: Pin the Extension (Optional)
1. Click the puzzle piece icon (🧩) in Chrome's toolbar
2. Find "One Click QR" and click the pin icon to keep it visible

## How to Use

### Automatic Scanning
- The extension automatically scans for QR codes when you visit any web page
- QR codes are highlighted with green borders when detected
- Simply click on any highlighted QR code to open the URL

### Manual Scanning
1. Click the One Click QR extension icon in your toolbar
2. Choose your scanning method:
   - **🔍 Scan Page Elements**: Fast scan of images, canvas, SVG, and background images
   - **📸 Screen Capture Scan**: Universal scan that captures the visible screen
   - **🎯 Select Area Scan**: Draw a selection box around specific QR codes
3. View detected QR codes in the popup
4. Click on any result to open the URL

### When to Use Each Scan Method

#### 🔍 Scan Page Elements
- Fast and efficient for most QR codes
- Detects images, canvas, SVG, and background images
- Best for regular web page QR codes

#### 📸 Screen Capture Scan  
- QR codes in complex containers or styled elements
- QR codes inside iframes or Shadow DOM
- QR codes generated by JavaScript libraries
- Any visible QR code that you can see but other methods can't find

#### 🎯 Select Area Scan
- When you want to target a specific QR code
- Multiple QR codes on page and you want to scan just one
- Avoiding false positives from decorative patterns
- Precise scanning of a specific region
- Perfect control over what gets scanned

### Supported QR Code Types
- **URLs**: Opens in a new tab
- **Email addresses**: Opens default mail client
- **Phone numbers**: Initiates call (mobile devices)
- **Text**: Performs Google search

## Extension Permissions

- **activeTab**: Required to scan images on the current page
- **storage**: Used to temporarily store QR code data

## Technical Details

- **Manifest Version**: 3 (latest Chrome extension standard)
- **QR Library**: Uses jsQR for client-side QR code detection
- **No External Dependencies**: All processing happens locally

## Troubleshooting

### Extension Not Working
- Make sure you're on a regular web page (not chrome:// pages)
- Check that the page has finished loading
- Ensure images are fully loaded before scanning

### QR Codes Not Detected
- Make sure QR codes are clear and not too small
- Try refreshing the page
- Try all three scanning methods in the extension popup:
  - **🔍 Scan Page Elements** for standard QR codes
  - **📸 Screen Capture Scan** for complex or hard-to-detect QR codes  
  - **🎯 Select Area Scan** to target specific QR codes precisely
- **Check console logs** (F12 → Console) for detailed scanning information
- **Wait for images to load** - the extension will retry scanning
- **Use Screen Capture** for QR codes in Shadow DOM, iframes, or complex containers

### No Permission Errors
- The extension only works on web pages, not on Chrome's internal pages
- Try the extension on a regular website like Google.com

## Development

### File Structure
```
sQR/
├── manifest.json          # Extension configuration
├── content_script.js      # Scans pages for QR codes
├── background.js          # Handles QR code actions
├── popup.html            # Extension popup interface
├── popup.js              # Popup functionality
├── popup.css             # Popup styling
├── lib/jsqr.js          # QR code detection library
└── icons/               # Extension icons
```

### Core Components
- **Content Script**: Automatically scans images and detects QR codes
- **Background Script**: Opens URLs and manages extension state
- **Popup Interface**: Manual scanning and QR code management

## License

This project is open source. Feel free to modify and distribute.

## Support

If you encounter any issues:
1. Check the Chrome Developer Console for errors
2. Ensure you're using the latest version of Chrome
3. Try disabling and re-enabling the extension 